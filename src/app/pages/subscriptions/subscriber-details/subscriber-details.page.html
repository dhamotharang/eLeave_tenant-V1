<ion-app style="padding-top: 73px; --ion-background-color: #f0f0f7;">
    <ion-content>
      
      <!---------------------------- Title  ----------------------------------->
      <ion-row>
        <ion-col>
          <ion-title class="subscriberTitleStyle">
            Subscriptions
          </ion-title>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="subscriberLayout">
          <ion-row>
            
            <!------------------------ Client's List  -------------------------------> 
            <ion-col size="2" style="padding: 0px;">
              <!-- Header -->
              <ion-title text-wrap class="subsctiberTitleStyle">
                CLIENT NAME
              </ion-title>
              <ion-item-group  *ngFor="let subscribersList of subscribersDetails">
                <ion-item class="subscriberListStyle" (click)="selectedClient(subscribersList)"
                [ngStyle]="{'color': subscribersList.clientName === subscriberInfo.clientName ? '#3b86ff' : '#4d4f5c'}">
                <!-- <ion-item class="subscriberListStyle" (click)="selectedClient(subscribersList)" > -->
                  <!-- <ion-text> -->
                    {{subscribersList.clientName}}
                  <!-- </ion-text> -->
                </ion-item>
              </ion-item-group>
            </ion-col>

            <!---------------------- Client's Overview  ----------------------------->
            <ion-col size="3"  style="padding: 0px; background-color: #fcfcfc;">
              <!-- Header -->
              <ion-title class="subsctiberTitleStyle">
                OVERVIEW
              </ion-title>
              
              <!-- Company name -->
              <ion-item-group text-wrap lines="full" style="padding: 0px;">
                <ion-item class="subscriberOverviewParentCompanyStyle" style="padding: 0px; padding-right:20px; padding-bottom: 5px;" >
                  <ion-text>
                    {{subscriberInfo.companyName}} (Parent Company)
                  </ion-text>
                </ion-item>
  
                <!-- Admin details -->
                <ion-row text-wrap class="subscriberOverviewStyle adminDetails">
                  <ion-col size="2.6" style="display: inline-table;">
                    <ion-avatar>
                      <img src="../../../../assets/icon/layout/picture.png">
                    </ion-avatar>
                  </ion-col>
                  <ion-col style="display: grid;">
                    <ion-label>{{subscriberInfo.clientName}}</ion-label>
                    <ion-label>{{subscriberInfo.clientEmail}}</ion-label>
                    <ion-label>{{subscriberInfo.clientContactNo}}</ion-label>
                    <ion-label style="font-weight: bold; color: #3b86ff; cursor: pointer;" 
                      (click)="openSubsPopover($event, 'SubscriberEditProfileComponent')">
                        Edit Profile
                      </ion-label>
                  </ion-col>
                </ion-row>

                <!-- Address -->
                <ion-item class="subscriberOverviewParentCompanyStyle" style="padding: 0px; padding-right:20px; margin-bottom: 15px;" >
                  <ion-label style="font-weight: bold;">
                    ADDRESS
                  </ion-label>
                </ion-item>
                <ion-item-group class="subscriberOverviewStyle adminLabelStyle">
                  <ion-label>Billing Address</ion-label>
                  <ion-label>{{subscriberInfo.addressLine1}}</ion-label>
                  <ion-label>{{subscriberInfo.addressLine2}}</ion-label>
                  <ion-label>{{subscriberInfo.addressZip}} {{subscriberInfo.addressState}}</ion-label>
                  <ion-label>{{subscriberInfo.addressCountry}}</ion-label>
                </ion-item-group>

                <!-- Other details -->
                <ion-item class="subscriberOverviewParentCompanyStyle" style="padding: 0px; padding-right:20px; margin-bottom: 15px;" >
                  <ion-label style="font-weight: bold;">
                    OTHER DETAILS
                  </ion-label>
                </ion-item>
                <ion-item-group class="subscriberOverviewStyle adminLabelStyle">
                  <ion-label>Customer ID: {{subscriberInfo.clientID}}</ion-label>            
                  <ion-label>Currency: {{subscriberInfo.currency}}</ion-label>             
                </ion-item-group>
              
                <!-- Customer Status -->
                <ion-item class="subscriberOverviewParentCompanyStyle" style="padding: 0px; padding-right:20px; margin-bottom: 15px;" >
                  <ion-label style="font-weight: bold;">
                    CUSTOMER STATUS
                  </ion-label>
                </ion-item>
                <ion-item-group class="adminLabelStyle" style="display: flex; justify-content: center;">
                  <div class="onoffswitch">
                    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox"  id="myonoffswitch" [(ngModel)]="subsToggle" (click)="checkToggle()">
                    <label class="onoffswitch-label" for="myonoffswitch">
                      <span class="onoffswitch-inner"></span>
                      <span class="onoffswitch-switch"></span>
                    </label>
                  </div>
                </ion-item-group>

                <ion-item-group id="reactivesubsnotice" hidden class="subscriberOverviewStyle subsReactivationNotice">
                  <ion-icon name="warning"></ion-icon>
                  <ion-text>
                      Please fill in the subscription details upon reactivation of your customers.
                  </ion-text>
                </ion-item-group>
              </ion-item-group>
            </ion-col>

            <!-------------------- Client's Description  ---------------------------->
            <ion-col style="padding: 0px;">
              <!-- Header -->
              <ion-row>
                  <!-- <ion-row style="background-color: #f5f6fa; height: 45px;"> -->
                <ion-col style="padding:0px;">
                  <ion-title class="subsctiberTitleStyle">
                    DESCRIPTION
                  </ion-title>
                </ion-col>
                <ion-col class="subsctiberRecentActivitiesStyle" style="padding:0px;">
                  <ion-label style="padding-right:15px; cursor: pointer;" (click)="openSubsPopover($event, 'SubscriberRecentActivitiesComponent')">
                    Recent Activities
                  </ion-label>
                </ion-col>
              </ion-row>

              <ion-row  style="justify-content: center; padding:0px;">
                <!-- Last billing date -->
                <ion-card class="subscriberDescriptionCardLayout">
                  <ion-card-content style="padding-bottom: 0px;">
                    <ion-row>
                      <ion-card-title class="subscriberDescriptionCardTitle">Last Billing Date</ion-card-title>
                    </ion-row>
                    <ion-row>
                      <ion-col style="padding-left: 0px;">
                        <ion-label class="subscriberDescriptionCardValue">{{subscriberInfo.lastBillingOn}}</ion-label>
                      </ion-col>
                      <ion-col size="3">
                        <ion-icon class="subscriberCardIconStyle" src="../../../../assets/icon/subscriptions/icon-last-billing-date.svg"></ion-icon>
                      </ion-col>
                    </ion-row>
                  </ion-card-content>
                </ion-card>

                <!-- Next billing date -->
                <ion-card class="subscriberDescriptionCardLayout">
                  <ion-card-content style="padding-bottom: 0px;">
                    <ion-row>
                      <ion-card-title class="subscriberDescriptionCardTitle">Next Billing Date</ion-card-title>
                    </ion-row>
                    <ion-row>
                      <ion-col style="padding-left: 0px;">
                        <ion-row>
                            <ion-label class="subscriberDescriptionCardValue">{{subscriberInfo.nextBillingOn}}</ion-label>
                        </ion-row>
                        <ion-row>
                          <ion-label class="subscriberDescriptionCardChangeDate" (click)="showCalenderPicker()">
                            Change Date
                          </ion-label>
                          <ion-datetime detail pickerFormat="D MMMM YYYY" max="2100" *ngIf="this.isShowingPicker">
                          </ion-datetime>
                          <!-- <ion-datetime *ngIf=“this.isShowingPicker” pickerFormat=“DD MMMM YYYY” [min]=“datePickerMin” [(ngModel)]=“datePicker” (ionChange)=“changeDate()”> </ion-datetime> -->
                        </ion-row>
                      </ion-col>
                      <ion-col size="3">
                        <ion-icon class="subscriberCardIconStyle" src="../../../../assets/icon/subscriptions/icon-next-billing-date.svg"></ion-icon>
                      </ion-col>
                    </ion-row>
                    <ion-row>
                    </ion-row>
                  </ion-card-content>
                </ion-card>

                <!-- Days left -->
                <ion-card class="subscriberDescriptionCardLayout">
                  <ion-card-content style="padding-bottom: 0px;">
                      <ion-row>
                        <ion-card-title class="subscriberDescriptionCardTitle">Day Left</ion-card-title>
                      </ion-row>
                      <ion-row>
                        <ion-col style="padding-left: 0px;">
                          <ion-label class="subscriberDescriptionCardValue"  style="color: #ff6768">{{subscriberDetailsDaysLeft}} Day(s)</ion-label>
                        </ion-col>
                        <ion-col size="3">
                          <ion-icon class="subscriberCardIconStyle" src="../../../../assets/icon/subscriptions/icon-days-left.svg"></ion-icon>
                        </ion-col>
                      </ion-row>
                  </ion-card-content>
                </ion-card>
              </ion-row>

              <!-- Plan details new -->
              <ion-label>
                <ion-card class="detailsCard">
                  <ion-col>
                      <ion-item-group>
                        <ion-label>
                          TOTAL USERS: {{subscriberInfo.employeeNumber}}/{{subscriberInfo.employeeQuota}}
                        </ion-label>
                        <ion-progress-bar id="subdtlPrgssBar" [value]="subscriberInfo.progressBarValue"></ion-progress-bar>
                        <!-- <ion-progress-bar id="subdtlPrgssBar" [value]="subsProgressBarValue"></ion-progress-bar> -->
                        <ion-button (click)="openSubsPopover($event, 'UpdateUserNumbersComponent')">
                          Update No. of Users
                        </ion-button>
                      </ion-item-group>
                  </ion-col>
                  <ion-col>
                    <ion-item-group>
                      <ion-label>SUBSCRIPTION PLAN : {{subscriberInfo.plan}} </ion-label>
                      <ion-label>SUBSCRIPTION# : {{subscriberInfo.subscription}}</ion-label>
                      <!-- <ion-label>STATUS : {{subscriberInfo.status}} </ion-label> -->
                      <ion-row [ngSwitch]="subscriberInfo.status">
                        <ion-label >
                          STATUS: 
                        </ion-label>
                        <ion-label *ngSwitchCase="'LIVE'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: #5ee2a0">
                          {{subscriberInfo.status}}
                        </ion-label>
                        <ion-label *ngSwitchCase="'TRIAL'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: #3b86ff">
                          {{subscriberInfo.status}}
                        </ion-label>
                        <ion-label *ngSwitchCase="'PAST DUE'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: red">
                          {{subscriberInfo.status}}
                        </ion-label>
                        <ion-label *ngSwitchCase="'CANCEL SUBSCRIPTION'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: red">
                          {{subscriberInfo.status}}
                        </ion-label>
                      </ion-row>
                      <ion-label>REPEAT EVERY : {{subscriberInfo.repeatEvery}} </ion-label>
                      <ion-label>ACTIVATION DATE : {{subscriberInfo.activationDate}} </ion-label>
                      <ion-label>BILLING CYCLE : {{subscriberInfo.billingCycle}} </ion-label>
                    </ion-item-group>
                  </ion-col>
                  <ion-col size="1.5" style="align-self: start;">
                      <ion-icon style="display: contents;" src="../../../../assets/icon/customer/icon-total-user.svg"></ion-icon>
                  </ion-col>
                </ion-card>
              </ion-label>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
    </ion-content>
  </ion-app>