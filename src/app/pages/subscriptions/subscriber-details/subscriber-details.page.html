<ion-app style="padding-top: 55px; --ion-background-color: #f0f0f7;">
    <ion-content>
      
      <!---------------------------- Title  ----------------------------------->
      <ion-row>
        <ion-col>
          <ion-title class="subscriberTitleStyle">
            Subscriptions
          </ion-title>
        </ion-col>
      </ion-row>
      <ion-row  class="subscriberLayout subscriberFlexDisplay">
        <!-- <ion-col>
          <ion-row> -->
            
            <!------------------------ Client's List  -------------------------------> 
            <!-- Clinet list if width < md(fullMenu)/sm(iconMenu) -->

            <ion-col [class]="(subsDtlsPaging.getSideMenuType() === 'fullMenu') ? 'hide-md-up' : 'hide-sm-up'">
              <!-- Header -->
              <ion-title text-wrap class="subsctiberTitleStyle">
                  SUBSCRIBER LIST
              </ion-title>

              <!-- Body -->
              <ion-searchbar class="customer-searchbar-style" (ionChange)="onSearchSubsDtls($event)"></ion-searchbar>
              <ion-slides [options]="subsDtlsSlideOpts">
              <!-- <ion-slides pager="true" [options]="slideOpts"> -->
                <ion-slide *ngFor="let subscribersList of subscribersDetails | paginate : configPageSubDtls"
                style="width: auto;">
                  <ion-item-group class="subsDtlsListHorizontalContent subscriberListStyle" style="display: flex; height: auto; white-space: nowrap;">
                    <!-- <ion-item lines="none"> -->
                      <ion-list (click)="selectedClient(subscribersList)"
                      [ngStyle]="{'color': subscribersList.SUBSCRIPTION_LABEL === subscriberInfo.SUBSCRIPTION_LABEL ? '#3b86ff' : '#4d4f5c'}">
                        <ion-label>{{subscribersList.SUBSCRIPTION_LABEL}}</ion-label>
                        <ion-label>{{subscribersList.COMPANY_NAME}}</ion-label>
                      </ion-list>
                    <!-- </ion-item> -->
                  </ion-item-group>
                </ion-slide>
              </ion-slides>
            </ion-col>

            <!-- Clinet list if width > md(fullMenu)/sm(iconMenu) -->
            <ion-col size="2" style="padding:0; min-width: fit-content;"
            [class]="(subsDtlsPaging.getSideMenuType() === 'fullMenu') ? 'hide-md-down' : 'hide-sm-down'">
              <!-- Header -->
              <ion-title text-wrap class="subsctiberTitleStyle">
                SUBSCRIBER LIST
              </ion-title>
              <ion-list style="padding: 0; background: #ffffff;">
                <ion-searchbar class="customer-searchbar-style" (ionChange)="onSearchSubsDtls($event)"></ion-searchbar>
                <ion-item-group  *ngFor="let subscribersList of subscribersDetails  | paginate: configPageSubDtls">
                  <ion-item class="subscriberListStyle" (click)="selectedClient(subscribersList)"
                    [ngStyle]="{'color': subscribersList.NICKNAME === subscriberInfo.NICKNAME ? '#3b86ff' : '#4d4f5c'}">
                    <ion-list>
                      <!-- <ion-label>{{subscribersList.subscription}}</ion-label> -->
                      <ion-label>{{subscribersList.COMPANY_NAME}}</ion-label>
                    </ion-list>
                  </ion-item>
                </ion-item-group>
              </ion-list>
            </ion-col>

            <!---------------------- Client's Overview  ----------------------------->
            <ion-col style="padding: 0; background-color: #fcfcfc; min-width: fit-content; margin-bottom: 5px;">
            <!-- <ion-col size="3" style="padding:0; background-color: #fcfcfc; min-width: fit-content; margin-bottom: 5px;"> -->
              <!-- Header -->
              <ion-title class="subsctiberTitleStyle">
                OVERVIEW
              </ion-title>
              
              <!-- Company name -->
              <ion-item-group text-wrap lines="full" style="padding: 0px;">

                

                <!-- Address -->
                <ion-item class="subscriberOverviewParentCompanyStyle" style="padding: 0px; padding-right:20px; margin-bottom: 15px;" >
                  <ion-label style="font-weight: bold;">
                    SUBSCRIBER  ADDRESS
                  </ion-label>
                </ion-item>
                <ion-item-group class="subscriberOverviewStyle adminLabelStyle">
                  <ion-label>Billing Address:</ion-label>
                  <ion-label>{{subscriberInfo.ADDRESS1}}</ion-label>
                  <ion-label>{{subscriberInfo.ADDRESS2}}</ion-label>
                  <ion-label>{{subscriberInfo.POSTCODE}} {{subscriberInfo.CITY}}</ion-label>
                  <ion-label>{{subscriberInfo.STATE}}</ion-label>
                  <ion-label>{{subscriberInfo.COUNTRY}}</ion-label>
                </ion-item-group>

                <!-- <ion-item class="subscriberOverviewParentCompanyStyle" style="padding: 0px; padding-right:20px; padding-bottom: 5px;" >
                  <ion-text>
                    {{subscriberInfo.companyName}} (Parent Company)
                  </ion-text>
                </ion-item> -->
  
                <!-- Admin details -->
                <ion-item class="subscriberOverviewParentCompanyStyle" style="padding: 0px; padding-right:20px; margin-bottom: 15px;" >
                  <ion-label style="font-weight: bold;">
                    SUBSCRIBER DETAILS
                  </ion-label>
                </ion-item>
                <ion-row text-wrap class="subscriberOverviewStyle adminDetails">
                  <ion-col size="2.6" style="display: inline-table;">
                    <ion-avatar>
                      <img src="../../../../assets/icon/layout/picture.png">
                    </ion-avatar>
                  </ion-col>
                  <ion-col style="display: grid;">
                    <ion-label>{{subscriberInfo.FULLNAME}} ({{subscriberInfo.NICKNAME}})</ion-label>
                    <ion-label>{{subscriberInfo.EMAIL}}</ion-label>
                    <ion-label>{{subscriberInfo.CONTACT_NO}}</ion-label>
                    <ion-label style="font-weight: bold; color: #3b86ff; cursor: pointer;" 
                      (click)="openSubsPopover($event, 'SubscriberEditProfileComponent', 1)">
                        Edit Profile
                      </ion-label>
                  </ion-col>
                </ion-row>

                <!-- Other details -->
                <ion-item class="subscriberOverviewParentCompanyStyle" style="padding: 0px; padding-right:20px; margin-bottom: 15px;" >
                  <ion-label style="font-weight: bold;">
                    OTHER DETAILS
                  </ion-label>
                </ion-item>
                <ion-item-group class="subscriberOverviewStyle adminLabelStyle">
                  <ion-label>Customer ID: {{subscriberInfo.CUSTOMER_LABEL}}</ion-label>            
                  <ion-label>Currency: {{subscriberInfo.CURRENCY}}</ion-label>             
                </ion-item-group>
              
                <!-- Customer Status -->
                <ion-item class="subscriberOverviewParentCompanyStyle" style="padding: 0px; padding-right:20px; margin-bottom: 15px;" >
                  <ion-label style="font-weight: bold;">
                    SUBSCRIBER STATUS
                  </ion-label>
                </ion-item>
                <ion-item-group class="adminLabelStyle" style="display: flex; justify-content: center;">
                  <div class="onoffswitch">
                    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox"  id="myonoffswitch" [(ngModel)]="subsToggle" (click)="checkToggle()">
                    <label class="onoffswitch-label" for="myonoffswitch">
                      <span class="onoffswitch-inner"></span>
                      <span class="onoffswitch-switch"></span>
                    </label>
                  </div>
                </ion-item-group>

                <ion-item-group id="reactivesubsnotice" hidden class="subscriberOverviewStyle subsReactivationNotice">
                  <ion-icon name="warning"></ion-icon>
                  <ion-list style="display: grid;">
                    <ion-text>
                      {{inactiveMsg}}
                    </ion-text>
                    <ion-text id="reasonTextId">
                      Reason: {{inactiveReason}}
                    </ion-text>
                    <ion-text>
                      Please fill in the subscription details upon reactivation of this subscription.
                    </ion-text>

                  </ion-list>
                </ion-item-group>
              </ion-item-group>
            </ion-col>

            <!-------------------- Client's Description  ---------------------------->
            <ion-col style="padding:0; min-width: fit-content;">
              <!-- Header -->
              <ion-row>
                  <!-- <ion-row style="background-color: #f5f6fa; height: 45px;"> -->
                <ion-col style="padding:0px;">
                  <ion-title class="subsctiberTitleStyle">
                    DESCRIPTION
                  </ion-title>
                </ion-col>
                <ion-col class="subsctiberRecentActivitiesStyle" style="padding:0px;">
                  <ion-label style="padding-right:15px; cursor: pointer;" (click)="openSubsPopover($event, 'SubscriberRecentActivitiesComponent', 1)">
                    Recent Activities
                  </ion-label>
                </ion-col>
              </ion-row>

              <ion-row  style="justify-content: center; padding:0px;
              display: flex;
              justify-content: space-between;
              flex-grow: 1;">
                <!-- Last billing date -->
                <ion-card class="subscriberDescriptionCardLayout">
                  <ion-card-content style="padding-bottom: 0px;">
                    <ion-row>
                      <ion-card-title class="subscriberDescriptionCardTitle">Last Billing Date</ion-card-title>
                    </ion-row>
                    <ion-row>
                      <ion-col style="padding-left: 0px;">
                        <ion-label class="subscriberDescriptionCardValue">{{subscriberInfo.FULL_LAST_BILLING_DATE}}</ion-label>
                      </ion-col>
                      <ion-col size="3">
                        <ion-icon class="subscriberCardIconStyle" src="../../../../assets/icon/subscriptions/icon-last-billing-date.svg"></ion-icon>
                      </ion-col>
                    </ion-row>
                  </ion-card-content>
                </ion-card>

                <!-- Next billing date -->
                <ion-card class="subscriberDescriptionCardLayout">
                  <ion-card-content style="padding-bottom: 0px;">
                    <ion-row>
                      <ion-card-title class="subscriberDescriptionCardTitle">Next Billing Date</ion-card-title>
                    </ion-row>
                    <ion-row>
                      <ion-col style="padding-left: 0px;">
                        <ion-row>
                            <ion-label class="subscriberDescriptionCardValue">{{subscriberInfo.FULL_NEXT_BILLING_DATE}}</ion-label>
                        </ion-row>
                        <ion-row>
                          <ion-label class="subscriberDescriptionCardChangeDate" (click)="openNextBillDatePopover($event)">
                            Change Date
                          </ion-label>
                          <!-- <ion-datetime detail pickerFormat="D MMMM YYYY" max="2100" *ngIf="this.isShowingPicker">
                          </ion-datetime> -->
                          <!-- <ion-datetime *ngIf=“this.isShowingPicker” pickerFormat=“DD MMMM YYYY” [min]=“datePickerMin” [(ngModel)]=“datePicker” (ionChange)=“changeDate()”> </ion-datetime> -->
                        </ion-row>
                      </ion-col>
                      <ion-col size="3">
                        <ion-icon class="subscriberCardIconStyle" src="../../../../assets/icon/subscriptions/icon-next-billing-date.svg"></ion-icon>
                      </ion-col>
                    </ion-row>
                    <ion-row>
                    </ion-row>
                  </ion-card-content>
                </ion-card>

                <!-- Days left -->
                <ion-card class="subscriberDescriptionCardLayout">
                  <ion-card-content style="padding-bottom: 0px;">
                      <ion-row>
                        <ion-card-title class="subscriberDescriptionCardTitle">Day Left</ion-card-title>
                      </ion-row>
                      <ion-row>
                        <ion-col style="padding-left: 0px;">
                          <ion-label class="subscriberDescriptionCardValue"  style="color: #ff6768">{{subscriberDetailsDaysLeft}} Day(s)</ion-label>
                        </ion-col>
                        <ion-col size="3">
                          <ion-icon class="subscriberCardIconStyle" src="../../../../assets/icon/subscriptions/icon-days-left.svg"></ion-icon>
                        </ion-col>
                      </ion-row>
                  </ion-card-content>
                </ion-card>
              </ion-row>

              <!-- Plan details new -->
              
              <ion-label>
                  <ion-card class="detailsCard">
                    <ion-card-content  style="display: flex; flex-grow: inherit; flex-wrap: wrap;">
                        <ion-col>
                            <ion-item-group>
                              <ion-label>
                                TOTAL USERS: {{subscriberInfo.USED_QUOTA}}/{{subscriberInfo.QUOTA}}
                              </ion-label>
                              <ion-progress-bar id="subdtlPrgssBar" [value]="subscriberInfo.progressBarValue"></ion-progress-bar>
                              <!-- <ion-progress-bar id="subdtlPrgssBar" [value]="subsProgressBarValue"></ion-progress-bar> -->
                              <ion-button (click)="openSubsPopover($event, 'UpdateUserNumbersComponent', 1)">
                                Update User Quota
                              </ion-button>
                            </ion-item-group>
                        </ion-col>
                        <ion-col style="min-width: fit-content;">
                          <ion-item-group>
                            <ion-label>SUBSCRIPTION PLAN : {{subscriberInfo.PLAN}} </ion-label>
                            <!-- <ion-label>SUBSCRIPTION# : {{subscriberInfo.subscription}}</ion-label> -->
                            <!-- <ion-label>STATUS : {{subscriberInfo.status}} </ion-label> -->
                            <ion-row [ngSwitch]="subscriberInfo.STATUS">
                              <ion-label >
                                STATUS: 
                              </ion-label>
                              <ion-label *ngSwitchCase="0" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: #5ee2a0">
                                Inactive
                              </ion-label>
                              <ion-label *ngSwitchCase="1" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: #3b86ff">
                                Active
                              </ion-label>

                              <!-- <ion-label *ngSwitchCase="'LIVE'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: #5ee2a0">
                                {{subscriberInfo.status}}
                              </ion-label>
                              <ion-label *ngSwitchCase="'TRIAL'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: #3b86ff">
                                {{subscriberInfo.status}}
                              </ion-label>
                              <ion-label *ngSwitchCase="'PAST DUE'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: red">
                                {{subscriberInfo.status}}
                              </ion-label>
                              <ion-label *ngSwitchCase="'CANCEL SUBSCRIPTION'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: red">
                                {{subscriberInfo.status}}
                              </ion-label> -->
                            </ion-row>
                            <ion-label>REPEAT EVERY : {{subscriberInfo.RECURR_INTERVAL_VAL}} {{subscriberInfo.RECURR_INTERVAL}}</ion-label>
                            <ion-label>ACTIVATION DATE : {{subscriberInfo.FULL_ACTIVATION_DATE}} </ion-label>
                            <ion-label>BILLING CYCLE : {{subscriberInfo.BILLING_CYCLE}} </ion-label>
                          </ion-item-group>
                        </ion-col>
                        <ion-col size="1.5" style="align-self: start;">
                            <ion-icon style="display: contents;" src="../../../../assets/icon/customer/icon-total-user.svg"></ion-icon>
                        </ion-col>
                    </ion-card-content>
                  </ion-card>
                </ion-label>



              <!-- <ion-label>
                <ion-card class="detailsCard">
                  <ion-col>
                      <ion-item-group>
                        <ion-label>
                          TOTAL USERS: {{subscriberInfo.employeeNumber}}/{{subscriberInfo.employeeQuota}}
                        </ion-label>
                        <ion-progress-bar id="subdtlPrgssBar" [value]="subscriberInfo.progressBarValue"></ion-progress-bar>
                        <ion-button (click)="openSubsPopover($event, 'UpdateUserNumbersComponent')">
                          Update User Quota
                        </ion-button>
                      </ion-item-group>
                  </ion-col>
                  <ion-col>
                    <ion-item-group>
                      <ion-label>SUBSCRIPTION PLAN : {{subscriberInfo.plan}} </ion-label>
                      <ion-label>SUBSCRIPTION# : {{subscriberInfo.subscription}}</ion-label>
                      <ion-row [ngSwitch]="subscriberInfo.status">
                        <ion-label >
                          STATUS: 
                        </!--
                        <ion-label *ngSwitchCase="'LIVE'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: #5ee2a0">
                          {{subscriberInfo.status}}
                        </ion-label>
                        <ion-label *ngSwitchCase="'TRIAL'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: #3b86ff">
                          {{subscriberInfo.status}}
                        </ion-label>
                        <ion-label *ngSwitchCase="'PAST DUE'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: red">
                          {{subscriberInfo.status}}
                        </ion-label>
                        <ion-label *ngSwitchCase="'CANCEL SUBSCRIPTION'" class="viewSubscriptionDetailsTextFormat" style="display: contents; color: red">
                          {{subscriberInfo.status}}
                        </ion-label>
                      </ion-row>
                      <ion-label>REPEAT EVERY : {{subscriberInfo.repeatEvery}} </ion-label>
                      <ion-label>ACTIVATION DATE : {{subscriberInfo.activationDate}} </ion-label>
                      <ion-label>BILLING CYCLE : {{subscriberInfo.billingCycle}} </ion-label>
                    </ion-item-group>
                  </ion-col>
                  <ion-col size="1.5" style="align-self: start;">
                      <ion-icon style="display: contents;" src="../../../../assets/icon/customer/icon-total-user.svg"></ion-icon>
                  </ion-col>
                </ion-card>
              </ion-label> -->
            </ion-col>
          <!-- </ion-row>
        </ion-col> -->
      </ion-row>
      
      <!-- Subscriber list's pagination -->
      <ion-item-group class="custompgtn">        
        <pagination-controls (pageChange)="pageChanged($event)" maxSize="5" previousLabel="" nextLabel="" class="pagination-style"></pagination-controls>
      </ion-item-group>
      
    </ion-content>
  </ion-app>